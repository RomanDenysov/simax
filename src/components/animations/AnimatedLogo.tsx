import React from "react";
import {
	useTransform,
	useViewportScroll,
	motion,
	useScroll,
} from "framer-motion";

export default function AnimatedLogo() {
	const element = React.useRef(null);
	const { scrollYProgress } = useScroll({
		target: element,
		offset: ["start 0.75", "start 0.5"],
	});

	const draw = {
		hidden: { pathLength: 0, opacity: 0 },
		visible: (i: any) => {
			const delay = scrollYProgress + i * 0.5;
			return {
				pathLength: 1,
				opacity: 1,
				transition: {
					pathLength: { delay, type: "spring", duration: 1.5, bounce: 0 },
					opacity: { scrollYProgress, duration: 0.01 },
				},
			};
		},
	};

	return (
		<div>
			<motion.svg
				ref={element}
				width="380"
				height="204"
				viewBox="0 0 70 42"
				fill="none"
				initial="hidden"
				animate="visible"
				style={{ opacity: scrollYProgress }}
				xmlns="http://www.w3.org/2000/svg"
			>
				<motion.path
					custom={0.1}
					variants={draw}
					d="M35.0036 8.50009L69.0403 25.4388L63.3032 28.2973C62.3529 28.769 61.2367 28.7713 60.2865 28.2973L35.1529 15.7855C35.0866 15.7524 35.0178 15.7289 34.9491 15.7194C34.6292 15.6605 34.2951 15.8161 34.1434 16.1204C33.9586 16.4883 34.1079 16.9388 34.4799 17.1251L60.1111 29.8892L54.3692 32.7524C53.4189 33.2265 52.3028 33.2265 51.3525 32.7524L26.2284 20.2359C26.2284 20.2359 26.2284 20.2359 26.2261 20.2359H26.2237C26.1597 20.2029 26.091 20.1817 26.0223 20.1699C25.7024 20.1133 25.3706 20.269 25.2166 20.5708C25.0317 20.9364 25.1786 21.3845 25.5436 21.5708L51.1819 34.3444L45.4495 37.2006C44.5016 37.6723 43.3831 37.6746 42.4328 37.2006L17.2874 24.6911C17.221 24.6581 17.1523 24.6345 17.0812 24.6227C16.7613 24.5661 16.4295 24.7194 16.2779 25.0237C16.0907 25.394 16.2423 25.8444 16.6144 26.0308L42.2622 38.7902L36.525 41.6487C35.5771 42.1204 34.4586 42.1227 33.5083 41.6487L0.914796 25.427C0.635166 25.2878 0.4053 25.0756 0.248897 24.8185C0.0901235 24.5638 0.00244286 24.2642 0.00244286 23.9529V5.9199C7.31102e-05 3.17934 2.89828 1.39868 5.36044 2.62509L15.4295 7.63689L8.18992 11.2501L8.01219 11.3374C7.39369 11.6463 7.39606 12.526 8.01219 12.8326L15.4674 16.5473C15.9911 16.8067 16.5599 16.9364 17.1286 16.9388C17.6974 16.9388 18.2661 16.8091 18.7898 16.5496L18.8088 16.5402L35.0036 8.50009ZM64.6373 2.62981L53.2649 8.30198C53.0303 8.4199 52.753 8.4199 52.5161 8.30198L36.506 0.353866C35.5581 -0.117832 34.442 -0.115473 33.4965 0.353866L9.89851 12.1039L15.638 14.9624C16.5859 15.4341 17.7045 15.4341 18.6547 14.9624L34.9894 6.82321L69.3816 23.9293C69.6659 24.0708 69.9977 23.8657 69.9977 23.5496V5.92462C69.9977 3.18405 67.0995 1.40104 64.6373 2.62981Z"
					fill="#F25B2A"
				/>
			</motion.svg>
		</div>
	);
}
